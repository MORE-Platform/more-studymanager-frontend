# Manual integration Test: Clean up absolute scheduler

### Background:
- Study was created or exists.

## Absolute Scheduler in SMF (updated version)

| **Scenario**                                                                    | **Given**                                                                                                                                                                                                                                                                                                                 | **Steps**                                                                                                                                                                                                                                                                                                                          | **Expected Result**                                                                                                                                                                                                                                                                                             | **Result**  | **Note**                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|---------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Open absolute schedule dialog                                                   | Observation Dialog is open                                                                                                                                                                                                                                                                                                | <ul><li>WHEN I click on the button 'Add absolute Schedule', </li></ul>                                                                                                                                                                                                                                                             | THEN the 'Manage absolute schedule' dialog opens.                                                                                                                                                                                                                                                               | as expected |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| Enter start and end for the schedule.                                           | Manage absolute schedule dialog is open. <br>Planned study start is before 23.11.2023 and planned end is after 30.11.2023.                                                                                                                                                                                                | <ul><li>WHEN I click the Start Date Picker, setting the date to 23.11.2023</li><li>AND click the Start Time Picker, setting the time to 10:00</li><li>AND click the End Date Picker, setting the date to 30.11.2023</li><li>AND click the End time Picker, setting the time to 18:00</li><li>AND clickclick save.</li></ul>        | THEN the start date and time and the end date and time should be displayed as 23/11/2023, 10:00 and 30/11/2023, 18:00.                                                                                                                                                                                          | as expected |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| Enter a start date that is after the end date.                                  | Manage absolute schedule dialog is open.<br> Planned study start is before 23.11.2023 and planned end is after 30.11.2023.<br>start is set to 23.11.2023, 12:00 and end is set to 24.11.2023, 15:00.                                                                                                                      | <ul><li>WHEN I click the start Date Picker</li><li>AND set it to 26.11.2023</li></ul>                                                                                                                                                                                                                                              | THEN both start and end date and time should display 26/11/2023, 12:00.                                                                                                                                                                                                                                         | as expected |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| Set entire day checkbox.                                                        | Manage absolute schedule dialog is open.<br> Planned study start is before 23.11.2023 and planned end is after 30.11.2023.<br>start is set to 23.11.2023, 12:00 and end is set to 24.11.2023, 15:00.                                                                                                                      | <ul><li>WHEN I click the Entire day checkbox (so that it's checked),</li><li>AND I click save.</li></ul>                                                                                                                                                                                                                           | THEN the start time is set to 00:00 and the end time is set to 23:59.                                                                                                                                                                                                                                           | as expected |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| Set Individual observation checkbox.                                            | Manage absolute schedule dialog is open.<br> Planned study start is before 23.11.2023 and planned end is after 30.11.2023.<br>start is set to 23.11.2023, 12:00 and end is set to 24.11.2023, 15:00.                                                                                                                      | <ul><li>When I click the Individula Observation checkbox to checked.</li><li>AND I click save.</li></ul>                                                                                                                                                                                                                           | THEN the End will be collapsed and it will show the start date 23/11/2023, with start time 12:00 and end time 15:00. The end date has been changed to the start date as well.                                                                                                                                   | as expected |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| Set Individual observation and entire day checkbox.                             | Manage absolute schedule dialog is open.<br> Planned study start is before 23.11.2023 and planned end is after 30.11.2023.<br>start is set to 23.11.2023, 12:00 and end is set to 24.11.2023, 15:00.                                                                                                                      | <ul><li>WHEN I check the entire day checkbox to checked</li><li>AND the individual observation checkbox to checked</li></ul>                                                                                                                                                                                                       | THEN the end will be collapsed and it will show the start date 23/11/2023, with start time 00:00 and end time 23:59. The end date has been changed to the start date as well.                                                                                                                                   | as expected |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| Toggle Repeat observation                                                       | Manage absolute schedule dialog is open.<br> Planned study start is before 23.11.2023 and planned end is after 30.11.2023.<br>start is set to 23.11.2023, 12:00 and end is set to 24.11.2023, 15:00.                                                                                                                      | <ul><li>WHEN I click individual observation</li></ul>                                                                                                                                                                                                                                                                              | THEN the repeat observation event option appears.                                                                                                                                                                                                                                                               | as expected |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| Check repeat options.                                                           | Manage absolute schedule dialog is open.<br> Planned study start is before 23.11.2023 and planned end is after 30.11.2023.<br>start is set to 23.11.2023, 12:00 and end is set to 24.11.2023, 15:00.<br>Individual observation is checked.                                                                                | <ul><li>WHEN I click repeat</li></ul>                                                                                                                                                                                                                                                                                              | THEN a switch button with options Daily and Weekly appears.                                                                                                                                                                                                                                                     | as expected |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| Check repeat error messages when daily is clicked.                              | Manage absolute schedule dialog is open.<br> Planned study start is before 23.11.2023 and planned end is after 30.11.2023.<br>start is set to 23.11.2023, 12:00 and end is set to 24.11.2023, 15:00.<br>Individual observation and repeat checkboxes are checked.                                                         | <ul><li>WHEN i click on Daily</li></ul>                                                                                                                                                                                                                                                                                            | THEN the repetition end options appear with Until end of study and after. A error message is displayed beneath that informs the user to set an end to the repetition period.                                                                                                                                    | as expected |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| Check repeat error messages when weekly is clicked.                             | Manage absolute schedule dialog is open.<br> Planned study start is before 23.11.2023 and planned end is after 30.11.2023.<br>start is set to 23.11.2023, 12:00 and end is set to 24.11.2023, 15:00.<br>Individual observation and repeat checkboxes are checked.                                                         | <ul><li>WHEN i click on Weekly</li></ul>                                                                                                                                                                                                                                                                                           | THEN the Weekdays are displayed. Beneath them is an error message that reminds the user to set weekdays for the repetition<br> And the repetition end options appear with Until end of study and after. A error message is displayed beneath that informs the user to set an end to the repetition period.      | as expected |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| Check repeat error messages when weekly and weekdays are chosen.                | Manage absolute schedule dialog is open.<br> Planned study start is before 23.11.2023 and planned end is after 30.11.2023.<br>start is set to 23.11.2023, 12:00 and end is set to 24.11.2023, 15:00.<br>Individual observation and repeat checkboxes are checked.<br>Weekly is chosen                                     | <ul><li>WHEN I click on at least one weekday</li></ul>                                                                                                                                                                                                                                                                             | THEN the error beneath the weekdays dissapears.                                                                                                                                                                                                                                                                 | as expected |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| Check repeat error message when Repetition ends is chosen. - Until end of study | Manage absolute schedule dialog is open.<br> Planned study start is before 23.11.2023 and planned end is after 30.11.2023.<br>start is set to 23.11.2023, 12:00 and end is set to 24.11.2023, 15:00.<br>Individual observation and repeat checkboxes are checked.                                                         | <ul><li>WHEN I click daily</li><li>OR Weekly with at least one week day selected </li><li> AND click 'until end of study'</li><li>AND until end of study</li></ul>                                                                                                                                                                 | THEN all errors are gone from the 'Manage absolute schedule' dialog.                                                                                                                                                                                                                                            | as expected |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| Check repeat error messages when Repetition ends is chosen. - After             | Manage absolute schedule dialog is open.<br> Planned study start is before 23.11.2023 and planned end is after 30.11.2023.<br>start is set to 23.11.2023, 12:00 and end is set to 24.11.2023, 15:00.<br>Individual observation and repeat checkboxes are checked.                                                         | <ul><li>WHEN I click daily </li><li>OR Weekly with at least one week day selected</li><li>AND I click 'After'</li></ul>                                                                                                                                                                                                            | THEN and input field with either day(s) or week(s) (based on chosen repetition: daily, weekly) with an error message below is displayed.                                                                                                                                                                 | as expected |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| Check repeat error messages when Repetition ends is chosen. - After, count      | Manage absolute schedule dialog is open.<br> Planned study start is before 23.11.2023 and planned end is after 30.11.2023.<br>start is set to 23.11.2023, 12:00 and end is set to 24.11.2023, 15:00.<br>Individual observation and repeat checkboxes are checked.                                                         | <ul><li>WHEN I click daily </li><li>OR Weekly with at least one week day selected </li><li>AND 'After'</li><li>AND enter a number in the count input field</li></ul>                                                                                                                                                               | THEN all errors are gone from the 'Manage absolute schedule' dialog.                                                                                                                                                                                                                                            | BUG         | BUG-1:<br/>when one enters the dates as described, but in the same "session" (without saving and closing the manage absolute schedule dialog) had the individual observation, repeat Daily/weekly. Until end of study/after selected or filled out and THEN unchecks Individual Observation again and saves, all the repeat event values still get saved and displayed                                                                                                              |
| Save absolute scheduler. - Start and end Date                                   | Manage absolute schedule dialog is open.<br>Planned study start is before 23.11.2023 and planned end is after 30.11.2023.                                                                                                                                                                                                 | <ul><li>WHEN I set the start date to 23.11.2023, 10:00</li><li>AND the end date to 25.11.2023, 18:00</li><li>AND click on save</li></ul>                                                                                                                                                                                           | THEN the observation dialog should show the Absolute schedule preview with Start: 23/11/2023, 10:00 and End: 25/11/2023, 18:00                                                                                                                                                                                  | as expected |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| Save absolute scheduler. - Individual Observation                               | Manage absolute schedule dialog is open.<br>Planned study start is before 23.11.2023 and planned end is after 30.11.2023                                                                                                                                                                                                  | <ul><li>WHEN I set individaul observation to checked</li><li>AND set the date to 23.11.2023</li><li>AND start time to 11:00<li></li>AND end time to 15:00</li><li>AND click on save</li></ul>                                                                                                                                      | THEN the observation dialog should show the Absolute schedule preview with Start: 23/11/2023, 11:00 and End: 23/11/2023, 15:00                                                                                                                                                                                  | as expected |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| Save absolute scheduler. - Entire Day                                           | Manage absolute schedule dialog is open.<br>Planned study start is before 23.11.2023 and planned end is after 30.11.2023                                                                                                                                                                                                  | <ul><li>WHEN I set entire day to checked</li><li>AND set the start date to 23.11.2023</li><li>AND set the end date to 25.11.2023</li><li>AND click on save</li></ul>                                                                                                                                                               | THEN the observation dialog should show the Absolute schedule preview with Start: 23/11/2023, 00:00 and End: 25/11/2023, 23:59                                                                                                                                                                                  | as expected |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| Save absolute scheduler. - Repetition Daily, after                              | Manage absolute schedule dialog is open.<br>Planned study start is before 23.11.2023 and planned end is after 30.11.2023.<br>Initial values: Start: 23.11.2023, 11:00 and End: 23.11.2023, 15:00                                                                                                                          | <ul><li>WHEN I click individual observation </li><li> AND check repeat</li><li>AND set repetiton to daily</li><li>AND set Repetition ends to After 14 day(s)</li><li>AND click save</li></ul>                                                                                                                                      | THEN the observation dialog should show the Absolute schedule preview with Start: 23/11/2023, 11:00 and End: 23/11/2023, 15:00. And the repetition values of Every: day, Ends in 14 day(s).                                                                                                                     | as expected |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| Save absolute scheduler. - Repetition Weekly, after                             | Manage absolute schedule dialog is open.<br>Planned study start is before 23.11.2023 and planned end is after 30.11.2023.<br>Initial values: Start: 23.11.2023, 11:00 and End: 23.11.2023, 15:00                                                                                                                          | <ul><li>WHEN I click individual Observation </li><li> AND check repeat</li><li>AND set repetiton to weekly</li><li>AND choose MO, WE and SA for the weekdays</li><li>AND set Repetition ends to After 11 day(s)</li><li>AND click save</li></ul>                                                                                   | THEN the observation dialog should show the Absolute schedule preview with Start: 23/11/2023, 11:00 and End: 23/11/2023, 15:00. And the repetition values of Every: week, Selected days: MO, WE, SA, Ends in 11 day(s).                                                                                         | BUG         | BUG-2:In the repeat section, when weekly is selected, then 'repetitiom ends' it automatically is set to ... week(s). So, it cannot be set to 'Repetition ends after 11 days'<br/>BUG-3: In certain circumstances it is possible to save when no value is entered in the after section. In this case when one clicks the field (without entering anything) then clicks on until end of study. Then the error should go away. then the user can save without having anything entered. |
| Save absolute scheduler. - Repetition Daily, until study end                    | Manage absolute schedule dialog is open.<br>Planned study start is before 23.11.2023 and planned end is after 30.11.2023.<br>Initial values: Start: 23.11.2023, 11:00 and End: 23.11.2023, 15:00                                                                                                                          | <ul><li>WHEN I click individual Observation </li><li> AND check repeat</li><li>AND set repetiton to daily</li><li>AND set Repetition ends to until end of study</li><li>AND click save</li></ul>                                                                                                                                   | THEN the observation dialog should show the Absolute schedule preview with Start: 23/11/2023, 11:00 and End: 23/11/2023, 15:00. And the repetition values of Every: day, Ends on 'Date of Planned end of study'                                                                                                 | as expected |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| Save observation and check data. - Without repetition                           | Manage observation dialog is open.<br>Scheduler was entered with following values: Planned study start is before 23.11.2023 and planned end is after 30.11.2023.<br>Initial values: Start: 23.11.2023, 11:00 and End: 23.11.2023, 15:00                                                                                   | <ul><li>WHEN I enter a observation title</li><li> AND I created an absolut schedule with the values described in 'GIVEN'</li><li>AND I enter participant information</li><li> AND click save on the observation dialog</li><li>AND click the cog icon (settings) of the created observation inside the observation list.</li></ul> | THEN the observation dialog shows the absolute scheudle preview with following data: Start: 23/11/2023, 11:00 and End: 23/11/2023, 15:00                                                                                                                                                                        | as expected |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| Save observation and check data. - With repetition                              | Manage observation dialog is open.<br>Scheduler was entered with following values: Planned study start is before 23.11.2023 and planned end is after 30.11.2023.<br>Initial values: Start: 23.11.2023, 11:00 and End: 23.11.2023, 15:00, repetition values: Every: week, Selected days: MO, WE, SA, Ends in 11 day(s). | <ul><li>WHEN I click save on the observation dialog</li><li>AND open the created observation inside the observation list again.</li></ul>                                                                                                                                                                                          | THEN the observation dialog shows the absolute scheudle preview with following data: Start: 23/11/2023, 11:00 and End: 23/11/2023, 15:00; Repetition values: Every: week, Selected days: MO, WE, SA, Ends in 11 day(s).                                                                                         | BUG         | Same as BUG-2                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |

