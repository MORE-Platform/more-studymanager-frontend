# Manual integration Test: Clean up absolute scheduler

### Background:
- Study was created or exists.

## Absolute Scheduler in SMF (updated version)

| **Scenario**                                                                    | **Given**                                                                                                                                                                                                                                                                                                                 | **Steps**                                                                                                                                                                                                                                                                                      | **Expected Result**                                                                                                                                                                                                                                                                                    | **Result** |
|---------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------|
| Open absolute schedule dialog                                                   | Observation Dialog is open                                                                                                                                                                                                                                                                                                | <ul><li>WHEN I click on the button 'Add absolute Schedule', </li></ul>                                                                                                                                                                                                                         | THEN the 'Manage absolute schedule' dialog opens.                                                                                                                                                                                                                                                      ||
| Enter start and end for the schedule.                                           | Manage absolute schedule dialog is open. <br>Planned study start is before 23.11.2023 and planned end is after 30.11.2023.                                                                                                                                                                                                | <ul><li>WHEN I click the Start Date Picker, setting the date to 23.11.2023</li><li>AND click the Start Time Picker, setting the time to 10:00</li><li>AND click the End Date Picker, setting the date to 30.11.2023</li><li>AND click the End time Picker, setting the time to 18:00</li></ul> | THEN the start date and time and the end date and time should be displayed as 23.11.2023, 10:00 and 30.11.2023, 18:00.                                                                                                                                                                                 |            |
| Enter a start date that is after the end date.                                  | Manage absolute schedule dialog is open.<br> Planned study start is before 23.11.2023 and planned end is after 30.11.2023.<br>start is set to 23.11.2023, 12:00 and end is set to 24.11.2023, 15:00.                                                                                                                      | <ul><li>WHEN I click the start Date Picker</li><li>AND set it to 26.11.2023</li></ul>                                                                                                                                                                                                          | THEN both start and end date and time should display 26.11.2023, 12:00.                                                                                                                                                                                                                                |            |
| Set entire day checkbox.                                                        | Manage absolute schedule dialog is open.<br> Planned study start is before 23.11.2023 and planned end is after 30.11.2023.<br>start is set to 23.11.2023, 12:00 and end is set to 24.11.2023, 15:00.                                                                                                                      | <ul><li>WHEN I click the Entire day checkbox to checked.</li></ul>                                                                                                                                                                                                                             | THEN the start time is set to 00:00 and the end time is set to 23:59.                                                                                                                                                                                                                                  |            |
| Set Individual observation checkbox.                                            | Manage absolute schedule dialog is open.<br> Planned study start is before 23.11.2023 and planned end is after 30.11.2023.<br>start is set to 23.11.2023, 12:00 and end is set to 24.11.2023, 15:00.                                                                                                                      | <ul><li>When I click the Individula Observation checkbox to checked.</li></ul>                                                                                                                                                                                                                 | THEN the End will be collapsed and it will show the start date 23.11.2023, with start time 12:00 and end time 15:00. The end date has been changed to the start date as well (check with unchecking the individual observation checkbox).                                                              |            |
| Set Individual observation and entire day checkbox.                             | Manage absolute schedule dialog is open.<br> Planned study start is before 23.11.2023 and planned end is after 30.11.2023.<br>start is set to 23.11.2023, 12:00 and end is set to 24.11.2023, 15:00.                                                                                                                      | <ul><li>WHEN I check the entire day checkbox to checked</li><li>AND the individual observation checkbox to checked</li></ul>                                                                                                                                                                   | THEN the end will be collapsed and it will show the start date 23.11.2023, with start time 00:00 and end time 23:59. The end date has been changed to the start date as well (check with unchecking the individual observation checkbox).                                                              |            |
| Toggle Repeat observation                                                       | Manage absolute schedule dialog is open.<br> Planned study start is before 23.11.2023 and planned end is after 30.11.2023.<br>start is set to 23.11.2023, 12:00 and end is set to 24.11.2023, 15:00.                                                                                                                      | <ul><li>WHEN I click individual observation</li></ul>                                                                                                                                                                                                                                          | THEN the repeat observation event option appears.                                                                                                                                                                                                                                                      |            |
| Check repeat options.                                                           | Manage absolute schedule dialog is open.<br> Planned study start is before 23.11.2023 and planned end is after 30.11.2023.<br>start is set to 23.11.2023, 12:00 and end is set to 24.11.2023, 15:00.<br>Individual observation is checked.                                                                                | <ul><li>WHEN I click repeat</li></ul>                                                                                                                                                                                                                                                          | THEN a switch button with options Daily and Weekly appears.                                                                                                                                                                                                                                            |            |
| Check repeat error messages when daily is clicked.                              | Manage absolute schedule dialog is open.<br> Planned study start is before 23.11.2023 and planned end is after 30.11.2023.<br>start is set to 23.11.2023, 12:00 and end is set to 24.11.2023, 15:00.<br>Individual observation and repeat checkboxes are checked.                                                         | <ul><li>WHEN i click on Daily</li></ul>                                                                                                                                                                                                                                                        | THEN the repetition end options appear with Until end of study and after. A error message is displayed beneath that informs the user to set an end to the repetition period.                                                                                                                           |            |
| Check repeat error messages when weekly is clicked.                             | Manage absolute schedule dialog is open.<br> Planned study start is before 23.11.2023 and planned end is after 30.11.2023.<br>start is set to 23.11.2023, 12:00 and end is set to 24.11.2023, 15:00.<br>Individual observation and repeat checkboxes are checked.                                                         | <ul><li>WHEN i click on Weekly</li></ul>                                                                                                                                                                                                                                                       | THEN the Weekdays are displayed beneath with an error message that reminds the user to set weekdays for the repetition<br> And the repetition end options appear with Until end of study and after. A error message is displayed beneath that informs the user to set an end to the repetition period. |            |
| Check repeat error messages when weekly and weekdays are chosen.                | Manage absolute schedule dialog is open.<br> Planned study start is before 23.11.2023 and planned end is after 30.11.2023.<br>start is set to 23.11.2023, 12:00 and end is set to 24.11.2023, 15:00.<br>Individual observation and repeat checkboxes are checked.<br>Weekly is chosen                                     | <ul><li>WHEN I click on at least one weekday</li></ul>                                                                                                                                                                                                                                         | THEN the error beneath the weekdays dissapears.                                                                                                                                                                                                                                                        |
| Check repeat error message when Repetition ends is chosen. - Until end of study | Manage absolute schedule dialog is open.<br> Planned study start is before 23.11.2023 and planned end is after 30.11.2023.<br>start is set to 23.11.2023, 12:00 and end is set to 24.11.2023, 15:00.<br>Individual observation and repeat checkboxes are checked.                                                         | <ul><li>WHEN I click daily AND until end of study</li><li>OR Weekly with at least one week day AND 'until end of study'</li></ul>                                                                                                                                                              | THEN all errors are gone from the 'Manage absolute schedule' dialog.                                                                                                                                                                                                                                   |            |
| Check repeat error messages when Repetition ends is chosen. - After             | Manage absolute schedule dialog is open.<br> Planned study start is before 23.11.2023 and planned end is after 30.11.2023.<br>start is set to 23.11.2023, 12:00 and end is set to 24.11.2023, 15:00.<br>Individual observation and repeat checkboxes are checked.                                                         | <ul><li>WHEN I click daily AND 'After'</li><li>OR Weekly with at least one week day AND 'After'</li></ul>                                                                                                                                                                                      | THEN and input field with either day(s) or week(s) (based on chosen repetition: daily, weekly) with an error message below is displayed.                                                                                                                                                               |            |
| Check repeat error messages when Repetition ends is chosen. - After, count      | Manage absolute schedule dialog is open.<br> Planned study start is before 23.11.2023 and planned end is after 30.11.2023.<br>start is set to 23.11.2023, 12:00 and end is set to 24.11.2023, 15:00.<br>Individual observation and repeat checkboxes are checked.                                                         | <ul><li>WHEN I click daily AND 'After'</li><li>OR Weekly with at least one week day AND 'After'</li><li>AND enter a number in the count input field</li></ul>                                                                                                                                  | THEN all errors are gone from the 'Manage absolute schedule' dialog.                                                                                                                                                                                                                                   |            |
| Save absolute scheduler. - Start and end Date                                   | Manage absolute schedule dialog is open.<br>Planned study start is before 23.11.2023 and planned end is after 30.11.2023.                                                                                                                                                                                                 | <ul><li>WHEN I set the start date to 23.11.2023, 10:00</li><li>AND the end date to 25.11.2023, 18:00</li><li>AND click on save</li></ul>                                                                                                                                                       | THEN the observation dialog should show the Absolute schedule preview with Start: 23.11.2023, 10:00 and End: 25.11.2023, 18:00                                                                                                                                                                         |            |
| Save absolute scheduler. - Individual Observation                               | Manage absolute schedule dialog is open.<br>Planned study start is before 23.11.2023 and planned end is after 30.11.2023                                                                                                                                                                                                  | <ul><li>WHEN I set individaul observation to checked</li><li>AND set the date to 23.11.2023</li><li>AND start time to 11:00<li></li>AND end time to 15:00</li><li>AND click on save</li></ul>                                                                                                  | THEN the observation dialog should show the Absolute schedule preview with Start: 23.11.2023, 11:00 and End: 23.11.2023, 15:00                                                                                                                                                                         |                                                                                                                                                                                                                                                                                                        |            |
| Save absolute scheduler. - Entire Day                                           | Manage absolute schedule dialog is open.<br>Planned study start is before 23.11.2023 and planned end is after 30.11.2023                                                                                                                                                                                                  | <ul><li>WHEN I set entire day to checked</li><li>AND set the start date to 23.11.2023</li><li>AND set the end date to 25.11.2023</li><li>AND click on save</li></ul>                                                                                                                           | THEN the observation dialog should show the Absolute schedule preview with Start: 23.11.2023, 00:00 and End: 25.11.2023, 23:59                                                                                                                                                                         |                                                                                                                                                                                                                                                                                                        |            |
| Save absolute scheduler. - Repetition Daily, after                              | Manage absolute schedule dialog is open.<br>Planned study start is before 23.11.2023 and planned end is after 30.11.2023.<br>Initial values: Start: 23.11.2023, 11:00 and End: 23.11.2023, 15:00                                                                                                                          | <ul><li>WHEN I check repeat</li><li>AND set repetiton to DAILY</li><li>AND set Repetition ends to After 14 day(s)</li><li>AND click save</li></ul>                                                                                                                                             | THEN the observation dialog should show the Absolute schedule preview with Start: 23.11.2023, 11:00 and End: 23.11.2023, 15:00. And the repetition values of Every: day, Ends in 14 day(s).                                                                                                            |                                                                                                                                                                                                                                                                                                        |            |
| Save absolute scheduler. - Repetition Weekly, after                             | Manage absolute schedule dialog is open.<br>Planned study start is before 23.11.2023 and planned end is after 30.11.2023.<br>Initial values: Start: 23.11.2023, 11:00 and End: 23.11.2023, 15:00                                                                                                                          | <ul><li>WHEN I check repeat</li><li>AND set repetiton to WEEKLY</li><li>AND choose MO, WE and SA for the weekdays</li><li>AND set Repetition ends to After 11 day(s)</li><li>AND click save</li></ul>                                                                                          | THEN the observation dialog should show the Absolute schedule preview with Start: 23.11.2023, 11:00 and End: 23.11.2023, 15:00. And the repetition values of Every: week, Selected days: MO, WE, SA, Ends in 11 day(s).                                                                                |                                                                                                                                                                                                                                                                                                        |            |
| Save absolute scheduler. - Repetition Daily, until study end                    | Manage absolute schedule dialog is open.<br>Planned study start is before 23.11.2023 and planned end is after 30.11.2023.<br>Initial values: Start: 23.11.2023, 11:00 and End: 23.11.2023, 15:00                                                                                                                          | <ul><li>WHEN I check repeat</li><li>AND set repetiton to DAILY</li><li>AND set Repetition ends to until end of study</li><li>AND click save</li></ul>                                                                                                                                          | THEN the observation dialog should show the Absolute schedule preview with Start: 23.11.2023, 11:00 and End: 23.11.2023, 15:00. And the repetition values of Every: day, Ends on 'Date of Planned end of study'                                                                                        |                                                                                                                                                                                                                                                                                                        |            |
| Save observation and check data. - Without repetition                           | Manage observation dialog is open.<br>Scheduler was entered with following values: Planned study start is before 23.11.2023 and planned end is after 30.11.2023.<br>Initial values: Start: 23.11.2023, 11:00 and End: 23.11.2023, 15:00                                                                                   | <ul><li>WHEN I click save on the observation dialog</li><li>AND open the created observation inside the observation list again.</li></ul>| THEN the observation dialog shows the absolute scheudle preview with following data: Start: 23.11.2023, 11:00 and End: 23.11.2023, 15:00                                                                                                                                                               ||
| Save observation and check data. - With repetition                              | Manage observation dialog is open.<br>Scheduler was entered with following values: Planned study start is before 23.11.2023 and planned end is after 30.11.2023.<br>Initial values: Start: 23.11.2023, 11:00 and End: 23.11.2023, 15:00, repetition values: Every: week, Selected days: MO, WE, SA, Ends in 11 day(s). |   <ul><li>WHEN I click save on the observation dialog</li><li>AND open the created observation inside the observation list again.</li></ul>                                                                                                                                                                                                                                                                                             | THEN the observation dialog shows the absolute scheudle preview with following data: Start: 23.11.2023, 11:00 and End: 23.11.2023, 15:00; Repetition values: Every: week, Selected days: MO, WE, SA, Ends in 11 day(s).                                                                                |            |

